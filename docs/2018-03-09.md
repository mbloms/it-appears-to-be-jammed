# Collision detection between cars
Today we had some git related trouble which set us back for a while so we couldn't accomplish as much as we had hoped. We also might have tried solving too many problems at once which only made debugging even more difficult. After some time we started over completely and tried to do things separately and in order...

## Cars avoid colliding with each other
The biggest improvement that we actually were able to make today was the addition of collision detection and collision avoidance between the cars themselves, not only the intersections. To make avoidance possible, some detection mechanism has to be in place first. This was implemented in a way that all the cars are themselves responsible for not colliding with the one in front of them. We figured this was the most realistic implementation since most accidents involving colliding cars is a result of the second driver not paying attention or simply braking too late. This is of course a simplified model since there are many parameters that affect a car crash; weather conditions, road quality, other drivers acting carelessly etc, but these are not part of the scope for this simulation.

### implementation
The detection component is actually very simple in the current implementation. If the car in front of you is too close (regardless of this is because you caught up with it or if that car is slowing down itself) the system is triggered. The key part here is the _scope_ of detection, i.e. how close is okay and at what point is it too close? We first tried using some constant length but that didn't make sense since some cars might be traveling at a very high velocity and will then have to make an unlikely full-stop to avoid collision. Therefore, we opted to instead take the cars current velocity into account by calculating the braking distance required in order to come to a full stop in time to avoid a collision. This proved to be a good solution and since this operation is made for every time step in the simulation, the car will stop decelerating if the car in front of it increases it's distance again. Thus, avoidance is ensured by then braking continuously until the car has either made a full stop or collision is no longer a threat.

This gif is a little shaky but demonstrates that the blue (second) car quickly decelerates as it detects that the red car has stopped in front of it.
![alt text](https://imgur.com/66m6qw0.gif)
